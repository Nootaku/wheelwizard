#:import player player

MainWindow:
# MenuCard:

<MainWindow>:
    canvas.before:
        Color:
            rgba: .28, .28, .28, 1
        Rectangle:
            size: self.size
    MenuWindow:
    WizardWindow:
    SlideWindow:
    SlalomWindow:
    StreetWindow:
    PlayerWidget:

<TopBar>:
    id: top_bar

    MDRectangleFlatIconButton:
        id: top_bar_button
        icon: 'arrow-left-bold'
        text: 'Back'
        theme_text_color: "Custom"
        text_color: 1, 192 / 255, 34 / 255, 1
        line_color: 1, 192 / 255, 34 / 255, 1
        theme_icon_color: "Custom"
        icon_color: 1, 192 / 255, 34 / 255, 1
        pos_hint: {'center_y': .5}
        # size_hint_x: root.top_image_width
        on_release: app.root.current = 'menu'

    Image:
        id: top_bar_logo
        source: root.top_image
        size_hint_x: root.top_image_width

    Label:
        id: top_bar_label
        text: root.parent.parent.title
        font_name: 'resources/fonts/Odachi.otf'
        font_size: dp(root.parent.parent.title_dp_size)
        color: 0.6, 0.87, 0

<MenuWindow>:
    name: 'menu'

    BoxLayout:
        orientation: 'vertical'
        spacing: 25
        padding: 21

        TopBar:

        MDGridLayout:
            rows: 4
            spacing: 13

            MDCard:
                MenuCard:
                    FitImage:
                        source: 'resources/img/wizard.png'
                        allow_stretch: True
                    CardButton:
                        card_link: 'wizard'
                    CardLabel:
                        text: 'Wizard'

            MDCard:
                MenuCard:
                    FitImage:
                        source: 'resources/img/slide.png'
                    CardButton:
                        card_link: 'slides'
                    CardLabel:
                        text: 'Slides'

            MDCard:
                MenuCard:
                    FitImage:
                        source: 'resources/img/slalom.jpeg'
                    CardButton:
                        card_link: 'slalom'
                    CardLabel:
                        text: 'Slalom'

            MDCard:
                MenuCard:
                    FitImage:
                        source: 'resources/img/street.jpg'
                    CardButton:
                        card_link: 'street'
                    CardLabel:
                        text: 'Street'

<WizardWindow>:
    name: 'wizard'
    BoxLayout:
        id: wizard_menu
        orientation: 'vertical'
        spacing: 25
        padding: 21

        TopBar:
            is_logo: False
        VideoList:
            video_folder: 'wizard'

<SlideWindow>:
    name: 'slides'
    BoxLayout:
        id: slide_menu
        orientation: 'vertical'
        spacing: 25
        padding: 21

        TopBar:
            is_logo: False
        VideoList:
            video_folder: 'slides'

<SlalomWindow>:
    name: 'slalom'
    BoxLayout:
        id: slide_menu
        orientation: 'vertical'
        spacing: 25
        padding: 21

        TopBar:
            is_logo: False
        VideoList:
            video_folder: 'slalom'

<StreetWindow>:
    name: 'street'
    BoxLayout:
        id: slide_menu
        orientation: 'vertical'
        spacing: 25
        padding: 21

        TopBar:
            is_logo: False
        VideoList:
            video_folder: 'street'
